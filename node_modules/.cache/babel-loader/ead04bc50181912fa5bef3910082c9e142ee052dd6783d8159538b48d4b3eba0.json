{"ast":null,"code":"var _jsxFileName = \"/Users/elenamacbook/my-gamejs/src/App.js\",\n  _s = $RefreshSig$();\nimport logo from './logo.svg';\nimport './App.css';\nimport React, { useState } from 'react';\nimport imgBack from './images/back.bmp';\nimport imgNature from './images/Nature.bmp';\nimport imgNature2 from './images/Nature2.bmp';\nimport imgOilDrops from './images/OilDrops.bmp';\nimport imgShip from './images/Ship.bmp';\nimport imgSnowCat from './images/SnowCat.bmp';\nimport imgWhiteCat from './images/WhiteCat.bmp';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nlet initiaCards = [{\n  id: 1,\n  color: 'color1',\n  state: 2\n}, {\n  id: 2,\n  color: 'color1',\n  state: 2\n}, {\n  id: 3,\n  color: 'color2',\n  state: 2\n}, {\n  id: 4,\n  color: 'color2',\n  state: 2\n}, {\n  id: 5,\n  color: 'color3',\n  state: 2\n}, {\n  id: 6,\n  color: 'color3',\n  state: 2\n}, {\n  id: 7,\n  color: 'color4',\n  state: 2\n}, {\n  id: 8,\n  color: 'color4',\n  state: 2\n}, {\n  id: 9,\n  color: 'color5',\n  state: 2\n}, {\n  id: 10,\n  color: 'color5',\n  state: 2\n}, {\n  id: 11,\n  color: 'color6',\n  state: 2\n}, {\n  id: 12,\n  color: 'color6',\n  state: 2\n}];\nfunction App() {\n  _s();\n  const [cards, setCards] = useState(initiaCards);\n  const [isShuffled, setShuffled] = useState(false);\n  const [rerender, setRerender] = useState();\n  const [clickCards, setClickCards] = useState(0);\n  const getImage = index => {\n    switch (index) {\n      case 'color1':\n        return imgNature;\n      case 'color2':\n        return imgNature2;\n      case 'color3':\n        return imgOilDrops;\n      case 'color4':\n        return imgShip;\n      case 'color5':\n        return imgSnowCat;\n      case 'color6':\n        return imgWhiteCat;\n      default:\n        return imgBack;\n    }\n  };\n  const generateLevel = array => {\n    const getRandomInt = max => {\n      return Math.floor(Math.random() * max);\n    };\n\n    // Алгоритм Фишера-Йетса\n    for (let i = 0; i < array.length; i++) {\n      let ri = getRandomInt(i + 1);\n      let tmp = array[ri];\n      array[ri] = array[i];\n      array[i] = tmp;\n    }\n    return array;\n  };\n  const handleClickButton = event => {\n    console.log(\"Start game!\");\n    let shuffleCards = [...cards];\n    shuffleCards = generateLevel(shuffleCards);\n    setCards(shuffleCards);\n    setShuffled(true);\n  };\n  const countFaceUpImage = () => {\n    var count = 0;\n    for (let card of cards) {\n      if (card.state == 1) count += 1;\n    }\n    return count;\n  };\n  const cardFaceUp = () => {\n    for (let card of cards) {\n      if (card.state == 1) return card;\n    }\n    return null;\n  };\n  const isAllCardsDeleted = () => {\n    for (let card of cards) {\n      if (card.state != 0) return false;\n    }\n    return true;\n  };\n  const rotateCard = (card1, card2) => {\n    card1.state = 2;\n    card2.state = 2;\n    setRerender(Symbol());\n  };\n  const deleteCards = (card1, card2) => {\n    card1.state = 0;\n    card2.state = 0;\n    setRerender(Symbol());\n  };\n  const imageClick = card => {\n    let countFaceUp = countFaceUpImage();\n    let cardFacedUp = cardFaceUp();\n    if (countFaceUp > 1) return;\n    if (card.state == 2) {\n      // картинкой вниз\n      card.state = 1; // картинкой вверх\n      setClickCards(clickCards + 1);\n      setRerender(Symbol());\n      if (countFaceUp == 1 && cardFacedUp != null) {\n        if (cardFacedUp.color == card.color) setTimeout(deleteCards, 300, card, cardFacedUp);else setTimeout(rotateCard, 400, card, cardFacedUp);\n      }\n    }\n  };\n  const listItems = cards.map(card => /*#__PURE__*/_jsxDEV(\"li\", {\n    children: card.state == 0 ? /*#__PURE__*/_jsxDEV(\"p\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 7\n    }, this) : /*#__PURE__*/_jsxDEV(\"img\", {\n      src: card.state == 2 ? imgBack : getImage(card.color),\n      height: \"100px\",\n      width: \"70px\",\n      onClick: () => imageClick(card)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 7\n    }, this)\n  }, card.id, false, {\n    fileName: _jsxFileName,\n    lineNumber: 140,\n    columnNumber: 5\n  }, this));\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: /*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"App-header\",\n      children: [!isShuffled ? /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleClickButton,\n        children: \"Start\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 22\n      }, this) : null, isAllCardsDeleted() ? /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"\\u041A\\u043E\\u043B\\u0438\\u0447\\u0435\\u0441\\u0442\\u0432\\u043E \\u043A\\u043B\\u0438\\u043A\\u043E\\u0432:\", clickCards]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 9\n      }, this) : /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"App-cards\",\n        children: isShuffled ? listItems : null\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 153,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"qwT2MmMqpipk7k5pHVx6qAwp5E4=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["logo","React","useState","imgBack","imgNature","imgNature2","imgOilDrops","imgShip","imgSnowCat","imgWhiteCat","jsxDEV","_jsxDEV","initiaCards","id","color","state","App","_s","cards","setCards","isShuffled","setShuffled","rerender","setRerender","clickCards","setClickCards","getImage","index","generateLevel","array","getRandomInt","max","Math","floor","random","i","length","ri","tmp","handleClickButton","event","console","log","shuffleCards","countFaceUpImage","count","card","cardFaceUp","isAllCardsDeleted","rotateCard","card1","card2","Symbol","deleteCards","imageClick","countFaceUp","cardFacedUp","setTimeout","listItems","map","children","fileName","_jsxFileName","lineNumber","columnNumber","src","height","width","onClick","className","_c","$RefreshReg$"],"sources":["/Users/elenamacbook/my-gamejs/src/App.js"],"sourcesContent":["import logo from './logo.svg';\nimport './App.css';\nimport React, { useState } from 'react';\n\nimport imgBack from './images/back.bmp';\nimport imgNature from './images/Nature.bmp';\nimport imgNature2 from './images/Nature2.bmp';\nimport imgOilDrops from './images/OilDrops.bmp';\nimport imgShip from './images/Ship.bmp';\nimport imgSnowCat from './images/SnowCat.bmp';\nimport imgWhiteCat from './images/WhiteCat.bmp';\n\nlet initiaCards = [\n  {id: 1, color: 'color1', state: 2},\n  {id: 2, color: 'color1', state: 2},\n  {id: 3, color: 'color2', state: 2},\n  {id: 4, color: 'color2', state: 2},\n  {id: 5, color: 'color3', state: 2},\n  {id: 6, color: 'color3', state: 2},\n  {id: 7, color: 'color4', state: 2},\n  {id: 8, color: 'color4', state: 2},\n  {id: 9, color: 'color5', state: 2},\n  {id: 10, color: 'color5', state: 2},\n  {id: 11, color: 'color6', state: 2},\n  {id: 12, color: 'color6', state: 2},\n];\n\nfunction App() {\n  const [cards, setCards] = useState(\n    initiaCards\n  );\n  const [isShuffled, setShuffled] = useState(false);\n  const [rerender, setRerender] = useState();\n  const [clickCards, setClickCards] = useState(0);\n\n  const getImage = (index) =>\n  {\n    switch(index) {\n      case 'color1':\n        return imgNature;\n      case 'color2':\n        return imgNature2;\n      case 'color3':\n        return imgOilDrops;\n      case 'color4':\n        return imgShip;\n      case 'color5':\n        return imgSnowCat;\n      case 'color6':\n        return imgWhiteCat;\n      default:\n        return imgBack;\n    }\n  }\n\n  const generateLevel = (array) =>\n  {\n    const getRandomInt = (max) => {\n      return Math.floor(Math.random() * max);\n    }\n    \n    // Алгоритм Фишера-Йетса\n    for (let i = 0; i < array.length; i++)\n    {\n      let ri = getRandomInt(i + 1);\n      let tmp = array[ri];\n      array[ri] = array[i];\n      array[i] = tmp;\n    }\n\n    return array;\n  }\n\n  const handleClickButton = (event) => \n  {\n    console.log(\"Start game!\");\n    let shuffleCards = [...cards];\n    shuffleCards = generateLevel(shuffleCards);\n    setCards(shuffleCards);\n    setShuffled(true);\n  } \n\n  const countFaceUpImage = () => {\n    var count = 0;\n    for (let card of cards) {\n      if (card.state == 1)\n        count += 1;\n    }\n    return count;\n  }\n\n  const cardFaceUp = () => {\n    for (let card of cards) {\n      if (card.state == 1)\n        return card;\n    }\n    return null;\n  }\n\n  const isAllCardsDeleted = () => {\n    for (let card of cards) {\n      if (card.state != 0)\n        return false;\n    }\n    return true;\n  }\n\n  const rotateCard = (card1, card2) => {\n    card1.state = 2;\n    card2.state = 2;\n    setRerender(Symbol());\n  };\n\n  const deleteCards = (card1, card2) => {\n    card1.state = 0;\n    card2.state = 0;\n    setRerender(Symbol());\n  }\n  \n  const imageClick = (card) => {\n    let countFaceUp = countFaceUpImage();\n    let cardFacedUp = cardFaceUp();\n    if (countFaceUp > 1)\n      return;\n    if (card.state == 2) { // картинкой вниз\n      card.state = 1; // картинкой вверх\n      setClickCards(clickCards + 1);\n      setRerender(Symbol());\n      \n      if (countFaceUp == 1 && cardFacedUp != null) {\n        if (cardFacedUp.color == card.color)\n          setTimeout(deleteCards, 300, card, cardFacedUp);\n        else \n          setTimeout(rotateCard, 400, card, cardFacedUp);\n      }\n    }\n  } \n  \n  const listItems = cards.map(card =>\n    <li key={card.id}>\n    {card.state == 0 \n    ? <p/>\n    : <img\n        src={card.state == 2 ? imgBack : getImage(card.color)\n        } height=\"100px\" width=\"70px\"\n        onClick={() => imageClick(card)}\n      />\n    }\n    </li>\n  );\n\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n      {!isShuffled ? <button onClick={handleClickButton}>Start</button> : null}\n      {isAllCardsDeleted() \n      ? <p>Количество кликов:{clickCards}</p> \n      : <ul className=\"App-cards\">{isShuffled ? listItems : null}</ul>\n      }\n      </header>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":";;AAAA,OAAOA,IAAI,MAAM,YAAY;AAC7B,OAAO,WAAW;AAClB,OAAOC,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AAEvC,OAAOC,OAAO,MAAM,mBAAmB;AACvC,OAAOC,SAAS,MAAM,qBAAqB;AAC3C,OAAOC,UAAU,MAAM,sBAAsB;AAC7C,OAAOC,WAAW,MAAM,uBAAuB;AAC/C,OAAOC,OAAO,MAAM,mBAAmB;AACvC,OAAOC,UAAU,MAAM,sBAAsB;AAC7C,OAAOC,WAAW,MAAM,uBAAuB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEhD,IAAIC,WAAW,GAAG,CAChB;EAACC,EAAE,EAAE,CAAC;EAAEC,KAAK,EAAE,QAAQ;EAAEC,KAAK,EAAE;AAAC,CAAC,EAClC;EAACF,EAAE,EAAE,CAAC;EAAEC,KAAK,EAAE,QAAQ;EAAEC,KAAK,EAAE;AAAC,CAAC,EAClC;EAACF,EAAE,EAAE,CAAC;EAAEC,KAAK,EAAE,QAAQ;EAAEC,KAAK,EAAE;AAAC,CAAC,EAClC;EAACF,EAAE,EAAE,CAAC;EAAEC,KAAK,EAAE,QAAQ;EAAEC,KAAK,EAAE;AAAC,CAAC,EAClC;EAACF,EAAE,EAAE,CAAC;EAAEC,KAAK,EAAE,QAAQ;EAAEC,KAAK,EAAE;AAAC,CAAC,EAClC;EAACF,EAAE,EAAE,CAAC;EAAEC,KAAK,EAAE,QAAQ;EAAEC,KAAK,EAAE;AAAC,CAAC,EAClC;EAACF,EAAE,EAAE,CAAC;EAAEC,KAAK,EAAE,QAAQ;EAAEC,KAAK,EAAE;AAAC,CAAC,EAClC;EAACF,EAAE,EAAE,CAAC;EAAEC,KAAK,EAAE,QAAQ;EAAEC,KAAK,EAAE;AAAC,CAAC,EAClC;EAACF,EAAE,EAAE,CAAC;EAAEC,KAAK,EAAE,QAAQ;EAAEC,KAAK,EAAE;AAAC,CAAC,EAClC;EAACF,EAAE,EAAE,EAAE;EAAEC,KAAK,EAAE,QAAQ;EAAEC,KAAK,EAAE;AAAC,CAAC,EACnC;EAACF,EAAE,EAAE,EAAE;EAAEC,KAAK,EAAE,QAAQ;EAAEC,KAAK,EAAE;AAAC,CAAC,EACnC;EAACF,EAAE,EAAE,EAAE;EAAEC,KAAK,EAAE,QAAQ;EAAEC,KAAK,EAAE;AAAC,CAAC,CACpC;AAED,SAASC,GAAGA,CAAA,EAAG;EAAAC,EAAA;EACb,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGjB,QAAQ,CAChCU,WACF,CAAC;EACD,MAAM,CAACQ,UAAU,EAAEC,WAAW,CAAC,GAAGnB,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAM,CAACoB,QAAQ,EAAEC,WAAW,CAAC,GAAGrB,QAAQ,CAAC,CAAC;EAC1C,MAAM,CAACsB,UAAU,EAAEC,aAAa,CAAC,GAAGvB,QAAQ,CAAC,CAAC,CAAC;EAE/C,MAAMwB,QAAQ,GAAIC,KAAK,IACvB;IACE,QAAOA,KAAK;MACV,KAAK,QAAQ;QACX,OAAOvB,SAAS;MAClB,KAAK,QAAQ;QACX,OAAOC,UAAU;MACnB,KAAK,QAAQ;QACX,OAAOC,WAAW;MACpB,KAAK,QAAQ;QACX,OAAOC,OAAO;MAChB,KAAK,QAAQ;QACX,OAAOC,UAAU;MACnB,KAAK,QAAQ;QACX,OAAOC,WAAW;MACpB;QACE,OAAON,OAAO;IAClB;EACF,CAAC;EAED,MAAMyB,aAAa,GAAIC,KAAK,IAC5B;IACE,MAAMC,YAAY,GAAIC,GAAG,IAAK;MAC5B,OAAOC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,GAAGH,GAAG,CAAC;IACxC,CAAC;;IAED;IACA,KAAK,IAAII,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGN,KAAK,CAACO,MAAM,EAAED,CAAC,EAAE,EACrC;MACE,IAAIE,EAAE,GAAGP,YAAY,CAACK,CAAC,GAAG,CAAC,CAAC;MAC5B,IAAIG,GAAG,GAAGT,KAAK,CAACQ,EAAE,CAAC;MACnBR,KAAK,CAACQ,EAAE,CAAC,GAAGR,KAAK,CAACM,CAAC,CAAC;MACpBN,KAAK,CAACM,CAAC,CAAC,GAAGG,GAAG;IAChB;IAEA,OAAOT,KAAK;EACd,CAAC;EAED,MAAMU,iBAAiB,GAAIC,KAAK,IAChC;IACEC,OAAO,CAACC,GAAG,CAAC,aAAa,CAAC;IAC1B,IAAIC,YAAY,GAAG,CAAC,GAAGzB,KAAK,CAAC;IAC7ByB,YAAY,GAAGf,aAAa,CAACe,YAAY,CAAC;IAC1CxB,QAAQ,CAACwB,YAAY,CAAC;IACtBtB,WAAW,CAAC,IAAI,CAAC;EACnB,CAAC;EAED,MAAMuB,gBAAgB,GAAGA,CAAA,KAAM;IAC7B,IAAIC,KAAK,GAAG,CAAC;IACb,KAAK,IAAIC,IAAI,IAAI5B,KAAK,EAAE;MACtB,IAAI4B,IAAI,CAAC/B,KAAK,IAAI,CAAC,EACjB8B,KAAK,IAAI,CAAC;IACd;IACA,OAAOA,KAAK;EACd,CAAC;EAED,MAAME,UAAU,GAAGA,CAAA,KAAM;IACvB,KAAK,IAAID,IAAI,IAAI5B,KAAK,EAAE;MACtB,IAAI4B,IAAI,CAAC/B,KAAK,IAAI,CAAC,EACjB,OAAO+B,IAAI;IACf;IACA,OAAO,IAAI;EACb,CAAC;EAED,MAAME,iBAAiB,GAAGA,CAAA,KAAM;IAC9B,KAAK,IAAIF,IAAI,IAAI5B,KAAK,EAAE;MACtB,IAAI4B,IAAI,CAAC/B,KAAK,IAAI,CAAC,EACjB,OAAO,KAAK;IAChB;IACA,OAAO,IAAI;EACb,CAAC;EAED,MAAMkC,UAAU,GAAGA,CAACC,KAAK,EAAEC,KAAK,KAAK;IACnCD,KAAK,CAACnC,KAAK,GAAG,CAAC;IACfoC,KAAK,CAACpC,KAAK,GAAG,CAAC;IACfQ,WAAW,CAAC6B,MAAM,CAAC,CAAC,CAAC;EACvB,CAAC;EAED,MAAMC,WAAW,GAAGA,CAACH,KAAK,EAAEC,KAAK,KAAK;IACpCD,KAAK,CAACnC,KAAK,GAAG,CAAC;IACfoC,KAAK,CAACpC,KAAK,GAAG,CAAC;IACfQ,WAAW,CAAC6B,MAAM,CAAC,CAAC,CAAC;EACvB,CAAC;EAED,MAAME,UAAU,GAAIR,IAAI,IAAK;IAC3B,IAAIS,WAAW,GAAGX,gBAAgB,CAAC,CAAC;IACpC,IAAIY,WAAW,GAAGT,UAAU,CAAC,CAAC;IAC9B,IAAIQ,WAAW,GAAG,CAAC,EACjB;IACF,IAAIT,IAAI,CAAC/B,KAAK,IAAI,CAAC,EAAE;MAAE;MACrB+B,IAAI,CAAC/B,KAAK,GAAG,CAAC,CAAC,CAAC;MAChBU,aAAa,CAACD,UAAU,GAAG,CAAC,CAAC;MAC7BD,WAAW,CAAC6B,MAAM,CAAC,CAAC,CAAC;MAErB,IAAIG,WAAW,IAAI,CAAC,IAAIC,WAAW,IAAI,IAAI,EAAE;QAC3C,IAAIA,WAAW,CAAC1C,KAAK,IAAIgC,IAAI,CAAChC,KAAK,EACjC2C,UAAU,CAACJ,WAAW,EAAE,GAAG,EAAEP,IAAI,EAAEU,WAAW,CAAC,CAAC,KAEhDC,UAAU,CAACR,UAAU,EAAE,GAAG,EAAEH,IAAI,EAAEU,WAAW,CAAC;MAClD;IACF;EACF,CAAC;EAED,MAAME,SAAS,GAAGxC,KAAK,CAACyC,GAAG,CAACb,IAAI,iBAC9BnC,OAAA;IAAAiD,QAAA,EACCd,IAAI,CAAC/B,KAAK,IAAI,CAAC,gBACdJ,OAAA;MAAAkD,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAG,CAAC,gBACJrD,OAAA;MACEsD,GAAG,EAAEnB,IAAI,CAAC/B,KAAK,IAAI,CAAC,GAAGZ,OAAO,GAAGuB,QAAQ,CAACoB,IAAI,CAAChC,KAAK,CACnD;MAACoD,MAAM,EAAC,OAAO;MAACC,KAAK,EAAC,MAAM;MAC7BC,OAAO,EAAEA,CAAA,KAAMd,UAAU,CAACR,IAAI;IAAE;MAAAe,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACjC;EAAC,GAPKlB,IAAI,CAACjC,EAAE;IAAAgD,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OASZ,CACN,CAAC;EAED,oBACErD,OAAA;IAAK0D,SAAS,EAAC,KAAK;IAAAT,QAAA,eAClBjD,OAAA;MAAQ0D,SAAS,EAAC,YAAY;MAAAT,QAAA,GAC7B,CAACxC,UAAU,gBAAGT,OAAA;QAAQyD,OAAO,EAAE7B,iBAAkB;QAAAqB,QAAA,EAAC;MAAK;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,GAAG,IAAI,EACvEhB,iBAAiB,CAAC,CAAC,gBAClBrC,OAAA;QAAAiD,QAAA,GAAG,oGAAkB,EAACpC,UAAU;MAAA;QAAAqC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,gBACrCrD,OAAA;QAAI0D,SAAS,EAAC,WAAW;QAAAT,QAAA,EAAExC,UAAU,GAAGsC,SAAS,GAAG;MAAI;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAExD;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACN,CAAC;AAEV;AAAC/C,EAAA,CAvIQD,GAAG;AAAAsD,EAAA,GAAHtD,GAAG;AAyIZ,eAAeA,GAAG;AAAC,IAAAsD,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}